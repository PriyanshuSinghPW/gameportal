<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flutter Game Portal - Cross-Platform Architecture</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0468D7 0%, #42A5F5 50%, #66BB6A 100%);
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            animation: fadeInDown 0.8s ease;
        }

        .flutter-logo {
            display: inline-flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .flutter-icon {
            width: 60px;
            height: 60px;
            background: white;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }

        h1 {
            font-size: 2.8em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .subtitle {
            font-size: 1.3em;
            opacity: 0.95;
            margin-bottom: 10px;
        }

        .platform-badges {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }

        .platform-badge {
            background: rgba(255,255,255,0.2);
            padding: 8px 20px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
        }

        .comparison-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
            animation: fadeInUp 0.8s ease;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 2px 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        .divider {
            background: linear-gradient(180deg, #0468D7, #42A5F5);
            width: 2px;
            height: 100%;
        }

        .comparison-column h3 {
            color: #333;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .native-title { color: #3DDC84; }
        .flutter-title { color: #0468D7; }

        .feature-comparison {
            list-style: none;
        }

        .feature-comparison li {
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .native-feature {
            background: linear-gradient(135deg, #E8F5E9, #C8E6C9);
            border-left: 3px solid #3DDC84;
        }

        .flutter-feature {
            background: linear-gradient(135deg, #E3F2FD, #BBDEFB);
            border-left: 3px solid #0468D7;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            transition: transform 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #0468D7, #42A5F5);
        }

        .stat-card:hover {
            transform: translateY(-5px) scale(1.02);
        }

        .stat-icon {
            font-size: 40px;
            margin-bottom: 15px;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            background: linear-gradient(135deg, #0468D7, #42A5F5);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            color: #666;
            margin-top: 10px;
            font-size: 1.1em;
        }

        .architecture-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            animation: fadeInUp 0.8s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(4, 104, 215, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .card:hover::before {
            left: 100%;
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.25);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 24px;
        }

        .icon.flutter { background: linear-gradient(135deg, #0468D7, #42A5F5); color: white; }
        .icon.platform { background: linear-gradient(135deg, #66BB6A, #43A047); color: white; }
        .icon.webview { background: linear-gradient(135deg, #FF6B6B, #FF8E53); color: white; }
        .icon.api { background: linear-gradient(135deg, #4ECDC4, #44A08D); color: white; }
        .icon.state { background: linear-gradient(135deg, #F093FB, #F5576C); color: white; }
        .icon.performance { background: linear-gradient(135deg, #FA709A, #FEE140); color: white; }

        .card h2 {
            color: #333;
            font-size: 1.4em;
        }

        .feature-list {
            list-style: none;
            margin-top: 15px;
        }

        .feature-list li {
            padding: 10px 0;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: center;
            color: #666;
        }

        .feature-list li:last-child {
            border-bottom: none;
        }

        .feature-list li::before {
            content: '‚úì';
            color: #42A5F5;
            font-weight: bold;
            margin-right: 10px;
            font-size: 18px;
        }

        .flow-diagram {
            background: white;
            border-radius: 20px;
            padding: 35px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
        }

        .flow-diagram::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(4, 104, 215, 0.1), transparent);
            border-radius: 50%;
        }

        .flow-title {
            text-align: center;
            color: #333;
            font-size: 2em;
            margin-bottom: 35px;
            position: relative;
        }

        .tech-stack {
            background: white;
            border-radius: 20px;
            padding: 35px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
            margin-bottom: 40px;
        }

        .tech-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .tech-category {
            padding: 20px;
            border-radius: 12px;
            background: linear-gradient(135deg, #f5f5f5, #ffffff);
            border: 1px solid #e0e0e0;
        }

        .tech-category h3 {
            color: #0468D7;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tech-items {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .tech-item {
            padding: 8px 15px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            font-size: 0.9em;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .tech-item:hover {
            background: linear-gradient(135deg, #0468D7, #42A5F5);
            color: white;
            transform: scale(1.05);
        }

        .code-snippet {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 25px;
            border-radius: 12px;
            margin-top: 25px;
            overflow-x: auto;
            font-family: 'Cascadia Code', 'Courier New', monospace;
            font-size: 14px;
            position: relative;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }

        .code-lang {
            position: absolute;
            top: 10px;
            right: 15px;
            color: #42A5F5;
            font-size: 12px;
            font-weight: bold;
            background: rgba(4, 104, 215, 0.1);
            padding: 4px 12px;
            border-radius: 12px;
        }

        .flutter-advantages {
            background: linear-gradient(135deg, #E3F2FD, #ffffff);
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            border: 2px solid #42A5F5;
        }

        .advantages-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .advantage-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .advantage-icon {
            font-size: 24px;
            color: #0468D7;
        }

        .advantage-text {
            color: #333;
        }

        .advantage-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .advantage-desc {
            font-size: 0.9em;
            color: #666;
        }

        .implementation-steps {
            background: white;
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 40px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }

        .steps-timeline {
            position: relative;
            margin-top: 30px;
        }

        .step-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 30px;
            position: relative;
        }

        .step-number {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #0468D7, #42A5F5);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 20px;
            flex-shrink: 0;
            z-index: 2;
        }

        .step-content {
            margin-left: 25px;
            flex: 1;
        }

        .step-title {
            font-size: 1.2em;
            color: #333;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .step-description {
            color: #666;
            line-height: 1.6;
        }

        .step-line {
            position: absolute;
            left: 25px;
            top: 50px;
            width: 2px;
            height: calc(100% + 10px);
            background: linear-gradient(180deg, #0468D7, #42A5F5);
            z-index: 1;
        }

        .step-item:last-child .step-line {
            display: none;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 35px;
            border-radius: 20px;
            max-width: 700px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 30px;
            cursor: pointer;
            color: #666;
            transition: color 0.3s ease;
        }

        .close-modal:hover {
            color: #0468D7;
        }

        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
            
            .divider {
                display: none;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .architecture-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="flutter-logo">
                <div class="flutter-icon">üê¶</div>
                <h1>Flutter Game Portal Architecture</h1>
            </div>
            <p class="subtitle">One Codebase, Multiple Platforms: iOS, Android & Web</p>
            <div class="platform-badges">
                <div class="platform-badge">
                    <span>ü§ñ</span> Android
                </div>
                <div class="platform-badge">
                    <span>üçé</span> iOS
                </div>
                <div class="platform-badge">
                    <span>üåê</span> Web
                </div>
            </div>
        </header>

        <!-- Flutter vs Native Comparison -->
        <div class="comparison-section">
            <h2 class="flow-title">Flutter vs Native Android Approach</h2>
            <div class="comparison-grid">
                <div class="comparison-column">
                    <h3 class="native-title">ü§ñ Native Android (Kotlin)</h3>
                    <ul class="feature-comparison">
                        <li class="native-feature">
                            <span>üì±</span> Android only deployment
                        </li>
                        <li class="native-feature">
                            <span>üîß</span> Platform-specific code
                        </li>
                        <li class="native-feature">
                            <span>‚ö°</span> Direct platform API access
                        </li>
                        <li class="native-feature">
                            <span>üë•</span> Separate iOS team needed
                        </li>
                        <li class="native-feature">
                            <span>üí∞</span> Higher development cost
                        </li>
                        <li class="native-feature">
                            <span>üîÑ</span> Duplicate maintenance effort
                        </li>
                    </ul>
                </div>
                <div class="divider"></div>
                <div class="comparison-column">
                    <h3 class="flutter-title">üê¶ Flutter (Dart)</h3>
                    <ul class="feature-comparison">
                        <li class="flutter-feature">
                            <span>üéØ</span> iOS, Android & Web from one codebase
                        </li>
                        <li class="flutter-feature">
                            <span>üöÄ</span> 70% faster development
                        </li>
                        <li class="flutter-feature">
                            <span>üé®</span> Consistent UI across platforms
                        </li>
                        <li class="flutter-feature">
                            <span>üë§</span> Single team for all platforms
                        </li>
                        <li class="flutter-feature">
                            <span>üíµ</span> Cost-effective solution
                        </li>
                        <li class="flutter-feature">
                            <span>üî•</span> Hot reload for instant updates
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Stats Overview -->
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-icon">üéÆ</div>
                <div class="stat-number">100+</div>
                <div class="stat-label">Web Games</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üì¶</div>
                <div class="stat-number">~18MB</div>
                <div class="stat-label">App Size (iOS/Android)</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üöÄ</div>
                <div class="stat-number">60%</div>
                <div class="stat-label">Code Reusability</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚ö°</div>
                <div class="stat-number">60 FPS</div>
                <div class="stat-label">Performance</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üì±</div>
                <div class="stat-number">3</div>
                <div class="stat-label">Platforms</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚è±Ô∏è</div>
                <div class="stat-number">50%</div>
                <div class="stat-label">Less Dev Time</div>
            </div>
        </div>

        <!-- Architecture Components -->
        <div class="architecture-container">
            <div class="card" onclick="showDetails('flutter')">
                <div class="card-header">
                    <div class="icon flutter">üê¶</div>
                    <div>
                        <h2>Flutter Framework</h2>
                    </div>
                </div>
                <div class="card-content">
                    <p>Cross-platform UI framework with native performance</p>
                    <ul class="feature-list">
                        <li>Single codebase for iOS & Android</li>
                        <li>Material & Cupertino widgets</li>
                        <li>Native ARM code compilation</li>
                        <li>Platform-specific adaptations</li>
                    </ul>
                </div>
            </div>

            <div class="card" onclick="showDetails('platform')">
                <div class="card-header">
                    <div class="icon platform">üì±</div>
                    <div>
                        <h2>Platform Channels</h2>
                    </div>
                </div>
                <div class="card-content">
                    <p>Native platform integration for iOS/Android</p>
                    <ul class="feature-list">
                        <li>WebView integration (webview_flutter)</li>
                        <li>Native performance optimizations</li>
                        <li>Platform-specific features</li>
                        <li>iOS App Store & Google Play ready</li>
                    </ul>
                </div>
            </div>

            <div class="card" onclick="showDetails('webview')">
                <div class="card-header">
                    <div class="icon webview">üéÆ</div>
                    <div>
                        <h2>WebView Integration</h2>
                    </div>
                </div>
                <div class="card-content">
                    <p>Optimized WebView for Unity/Godot games</p>
                    <ul class="feature-list">
                        <li>WKWebView (iOS) / WebView (Android)</li>
                        <li>JavaScript channels for communication</li>
                        <li>Hardware acceleration support</li>
                        <li>Fullscreen game experience</li>
                    </ul>
                </div>
            </div>

            <div class="card" onclick="showDetails('api')">
                <div class="card-header">
                    <div class="icon api">üîå</div>
                    <div>
                        <h2>API & Backend</h2>
                    </div>
                </div>
                <div class="card-content">
                    <p>RESTful API with Dio HTTP client</p>
                    <ul class="feature-list">
                        <li>Dio for network requests</li>
                        <li>Interceptors for auth & caching</li>
                        <li>JSON serialization</li>
                        <li>CDN game delivery</li>
                    </ul>
                </div>
            </div>

            <div class="card" onclick="showDetails('state')">
                <div class="card-header">
                    <div class="icon state">üîÑ</div>
                    <div>
                        <h2>State Management</h2>
                    </div>
                </div>
                <div class="card-content">
                    <p>Reactive state with Provider/Riverpod</p>
                    <ul class="feature-list">
                        <li>Provider/Riverpod for state</li>
                        <li>Cached game data</li>
                        <li>Offline support with Hive</li>
                        <li>Real-time updates</li>
                    </ul>
                </div>
            </div>

            <div class="card" onclick="showDetails('performance')">
                <div class="card-header">
                    <div class="icon performance">‚ö°</div>
                    <div>
                        <h2>Performance</h2>
                    </div>
                </div>
                <div class="card-content">
                    <p>Optimized for smooth 60 FPS gameplay</p>
                    <ul class="feature-list">
                        <li>Lazy loading with pagination</li>
                        <li>Image caching (cached_network_image)</li>
                        <li>WebView preloading</li>
                        <li>Memory optimization</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Flutter Implementation Steps -->
        <div class="implementation-steps">
            <h2 class="flow-title">Implementation Roadmap</h2>
            <div class="steps-timeline">
                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <div class="step-title">Setup Flutter Project</div>
                        <div class="step-description">Initialize Flutter project with iOS, Android & Web support. Configure platform-specific settings.</div>
                    </div>
                    <div class="step-line"></div>
                </div>
                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <div class="step-title">Design UI Components</div>
                        <div class="step-description">Create responsive game grid, detail screens, and navigation using Flutter widgets.</div>
                    </div>
                    <div class="step-line"></div>
                </div>
                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <div class="step-title">Integrate WebView</div>
                        <div class="step-description">Implement webview_flutter for game rendering with platform-specific optimizations.</div>
                    </div>
                    <div class="step-line"></div>
                </div>
                <div class="step-item">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <div class="step-title">API Integration</div>
                        <div class="step-description">Connect to backend API using Dio, implement caching and error handling.</div>
                    </div>
                    <div class="step-line"></div>
                </div>
                <div class="step-item">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <div class="step-title">Deploy to Stores</div>
                        <div class="step-description">Build and deploy to Google Play Store and Apple App Store with single codebase.</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tech Stack -->
        <div class="tech-stack">
            <h2 class="flow-title">Flutter Technology Stack</h2>
            <div class="tech-categories">
                <div class="tech-category">
                    <h3>üé® UI Framework</h3>
                    <div class="tech-items">
                        <div class="tech-item">Flutter SDK</div>
                        <div class="tech-item">Material Design</div>
                        <div class="tech-item">Cupertino</div>
                        <div class="tech-item">Custom Painters</div>
                    </div>
                </div>
                <div class="tech-category">
                    <h3>üì¶ State & Storage</h3>
                    <div class="tech-items">
                        <div class="tech-item">Provider</div>
                        <div class="tech-item">Riverpod</div>
                        <div class="tech-item">Hive</div>
                        <div class="tech-item">SharedPreferences</div>
                    </div>
                </div>
                <div class="tech-category">
                    <h3>üåê Networking</h3>
                    <div class="tech-items">
                        <div class="tech-item">Dio</div>
                        <div class="tech-item">HTTP</div>
                        <div class="tech-item">JSON Serialization</div>
                        <div class="tech-item">WebSocket</div>
                    </div>
                </div>
                <div class="tech-category">
                    <h3>üéÆ Game Integration</h3>
                    <div class="tech-items">
                        <div class="tech-item">webview_flutter</div>
                        <div class="tech-item">JavaScript Channels</div>
                        <div class="tech-item">InAppWebView</div>
                    </div>
                </div>
                <div class="tech-category">
                    <h3>üõ†Ô∏è Dev Tools</h3>
                    <div class="tech-items">
                        <div class="tech-item">Flutter DevTools</div>
                        <div class="tech-item">Hot Reload</div>
                        <div class="tech-item">Widget Inspector</div>
                    </div>
                </div>
                <div class="tech-category">
                    <h3>üì± Platform</h3>
                    <div class="tech-items">
                        <div class="tech-item">iOS 11+</div>
                        <div class="tech-item">Android 5.0+</div>
                        <div class="tech-item">Web (Chrome)</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Flutter Code Example -->
        <div class="flow-diagram">
            <h2 class="flow-title">Flutter Implementation Example</h2>
            <div class="code-snippet">
                <span class="code-lang">Dart/Flutter</span>
                <pre>import 'package:flutter/material.dart';
import 'package:webview_flutter/webview_flutter.dart';
import 'package:dio/dio.dart';

class GamePortalApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Game Portal',
      theme: ThemeData(
        primarySwatch: Colors.blue,
        useMaterial3: true,
      ),
      home: GameListScreen(),
    );
  }
}

class GameListScreen extends StatefulWidget {
  @override
  _GameListScreenState createState() => _GameListScreenState();
}

class _GameListScreenState extends State&lt;GameListScreen&gt; {
  final dio = Dio();
  List&lt;Game&gt; games = [];
  bool isLoading = true;

  @override
  void initState() {
    super.initState();
    fetchGames();
  }

  Future&lt;void&gt; fetchGames() async {
    try {
      final response = await dio.get('https://api.yourdomain.com/games');
      setState(() {
        games = (response.data['games'] as List)
            .map((json) => Game.fromJson(json))
            .toList();
        isLoading = false;
      });
    } catch (e) {
      // Handle error
      print('Error fetching games: $e');
    }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Game Portal'),
        elevation: 2,
      ),
      body: isLoading
          ? Center(child: CircularProgressIndicator())
          : GridView.builder(
              padding: EdgeInsets.all(16),
              gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
                crossAxisCount: 2,
                childAspectRatio: 0.75,
                crossAxisSpacing: 16,
                mainAxisSpacing: 16,
              ),
              itemCount: games.length,
              itemBuilder: (context, index) {
                return GameCard(
                  game: games[index],
                  onTap: () => navigateToGame(games[index]),
                );
              },
            ),
    );
  }

  void navigateToGame(Game game) {
    Navigator.push(
      context,
      MaterialPageRoute(
        builder: (context) => GamePlayerScreen(game: game),
      ),
    );
  }
}

class GamePlayerScreen extends StatefulWidget {
  final Game game;
  
  GamePlayerScreen({required this.game});
  
  @override
  _GamePlayerScreenState createState() => _GamePlayerScreenState();
}

class _GamePlayerScreenState extends State&lt;GamePlayerScreen&gt; {
  late WebViewController controller;
  
  @override
  void initState() {
    super.initState();
    controller = WebViewController()
      ..setJavaScriptMode(JavaScriptMode.unrestricted)
      ..setBackgroundColor(Colors.black)
      ..setNavigationDelegate(
        NavigationDelegate(
          onProgress: (int progress) {
            // Update loading bar
          },
          onPageFinished: (String url) {
            // Game loaded
            injectJavaScriptBridge();
          },
        ),
      )
      ..addJavaScriptChannel(
        'GameBridge',
        onMessageReceived: (JavaScriptMessage message) {
          // Handle game events
          handleGameEvent(message.message);
        },
      )
      ..loadRequest(Uri.parse(widget.game.gameUrl));
  }
  
  void injectJavaScriptBridge() {
    controller.runJavaScript('''
      window.addEventListener('gameready', function() {
        GameBridge.postMessage('ready');
      });
      
      window.addEventListener('gameover', function(e) {
        GameBridge.postMessage(JSON.stringify({
          event: 'gameover',
          score: e.detail.score
        }));
      });
    ''');
  }
  
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      backgroundColor: Colors.black,
      body: SafeArea(
        child: WebViewWidget(controller: controller),
      ),
    );
  }
}</pre>
            </div>
        </div>

        <!-- Flutter Advantages -->
        <div class="flow-diagram">
            <h2 class="flow-title">Why Flutter for Game Portal?</h2>
            <div class="flutter-advantages">
                <div class="advantages-grid">
                    <div class="advantage-item">
                        <div class="advantage-icon">üéØ</div>
                        <div>
                            <div class="advantage-title">Single Codebase</div>
                            <div class="advantage-desc">Write once, deploy to iOS, Android, and Web</div>
                        </div>
                    </div>
                    <div class="advantage-item">
                        <div class="advantage-icon">‚ö°</div>
                        <div>
                            <div class="advantage-title">Native Performance</div>
                            <div class="advantage-desc">Compiled to ARM code, 60-120 FPS</div>
                        </div>
                    </div>
                    <div class="advantage-item">
                        <div class="advantage-icon">üî•</div>
                        <div>
                            <div class="advantage-title">Hot Reload</div>
                            <div class="advantage-desc">Instant UI updates during development</div>
                        </div>
                    </div>
                    <div class="advantage-item">
                        <div class="advantage-icon">üí∞</div>
                        <div>
                            <div class="advantage-title">Cost Effective</div>
                            <div class="advantage-desc">50% less development & maintenance cost</div>
                        </div>
                    </div>
                    <div class="advantage-item">
                        <div class="advantage-icon">üé®</div>
                        <div>
                            <div class="advantage-title">Beautiful UI</div>
                            <div class="advantage-desc">Rich animations and custom designs</div>
                        </div>
                    </div>
                    <div class="advantage-item">
                        <div class="advantage-icon">üì±</div>
                        <div>
                            <div class="advantage-title">Platform Adaptive</div>
                            <div class="advantage-desc">iOS and Android native look & feel</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Details -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h2 id="modal-title"></h2>
            <div id="modal-body"></div>
        </div>
    </div>

    <script>
        // Modal content
        const modalContent = {
            flutter: {
                title: 'Flutter Framework Deep Dive',
                content: `
                    <h3>üéØ Cross-Platform Excellence</h3>
                    <p>Flutter uses a single codebase to create natively compiled applications for mobile, web, and desktop from a single codebase.</p>
                    
                    <h3>üèóÔ∏è Architecture</h3>
                    <ul>
                        <li><strong>Dart Language:</strong> AOT compiled to native ARM code</li>
                        <li><strong>Flutter Engine:</strong> C++ engine with Skia graphics</li>
                        <li><strong>Foundation Library:</strong> Core building blocks</li>
                        <li><strong>Widget Library:</strong> Rich set of UI components</li>
                    </ul>
                    
                    <h3>üì± Platform Support</h3>
                    <ul>
                        <li>iOS 11+ (iPhone, iPad)</li>
                        <li>Android 5.0+ (API 21+)</li>
                        <li>Web (Chrome, Safari, Edge)</li>
                        <li>Windows, macOS, Linux (stable)</li>
                    </ul>
                    
                    <h3>‚ö° Performance Benefits</h3>
                    <p>Flutter compiles to native ARM code, eliminating JavaScript bridge overhead. This results in consistent 60-120 FPS performance.</p>
                `
            },
            platform: {
                title: 'Platform Integration',
                content: `
                    <h3>üì± iOS Integration</h3>
                    <ul>
                        <li>WKWebView for optimal WebGL performance</li>
                        <li>Swift/Objective-C platform channels</li>
                        <li>iOS-specific UI adaptations</li>
                        <li>App Store deployment ready</li>
                    </ul>
                    
                    <h3>ü§ñ Android Integration</h3>
                    <ul>
                        <li>Chrome-based WebView</li>
                        <li>Kotlin/Java platform channels</li>
                        <li>Material Design compliance</li>
                        <li>Play Store optimization</li>
                    </ul>
                    
                    <h3>üåê Web Platform</h3>
                    <ul>
                        <li>Progressive Web App support</li>
                        <li>iframe embedding for games</li>
                        <li>Responsive design</li>
                        <li>SEO optimization</li>
                    </ul>
                `
            },
            webview: {
                title: 'WebView Game Integration',
                content: `
                    <h3>üì¶ webview_flutter Package</h3>
                    <pre style="background: #f5f5f5; padding: 10px; border-radius: 5px;">
dependencies:
  webview_flutter: ^4.4.0
  webview_flutter_android: ^3.12.0
  webview_flutter_wkwebview: ^3.9.0</pre>
                    
                    <h3>üéÆ Game Optimization</h3>
                    <ul>
                        <li>Hardware acceleration enabled</li>
                        <li>WebGL 2.0 support</li>
                        <li>60 FPS target frame rate</li>
                        <li>Audio context management</li>
                        <li>Touch input optimization</li>
                    </ul>
                    
                    <h3>üîå JavaScript Bridge</h3>
                    <p>Two-way communication between Flutter and game:</p>
                    <ul>
                        <li>Game ready events</li>
                        <li>Score submission</li>
                        <li>Achievement unlocks</li>
                        <li>In-app purchases</li>
                    </ul>
                `
            },
            api: {
                title: 'API & Backend Integration',
                content: `
                    <h3>üîÑ Dio HTTP Client</h3>
                    <pre style="background: #f5f5f5; padding: 10px; border-radius: 5px;">
final dio = Dio(BaseOptions(
  baseUrl: 'https://api.yourdomain.com',
  connectTimeout: Duration(seconds: 5),
  receiveTimeout: Duration(seconds: 3),
));

dio.interceptors.add(
  InterceptorsWrapper(
    onRequest: (options, handler) {
      // Add auth token
      options.headers['Authorization'] = 'Bearer $token';
      handler.next(options);
    },
  ),
);</pre>
                    
                    <h3>üìä API Endpoints</h3>
                    <ul>
                        <li>GET /games - List all games</li>
                        <li>GET /games/:id - Game details</li>
                        <li>POST /games/:id/play - Track play</li>
                        <li>GET /leaderboard/:gameId - Scores</li>
                    </ul>
                `
            },
            state: {
                title: 'State Management',
                content: `
                    <h3>üîÑ Provider Pattern</h3>
                    <pre style="background: #f5f5f5; padding: 10px; border-radius: 5px;">
class GameProvider extends ChangeNotifier {
  List<Game> _games = [];
  bool _isLoading = false;
  
  List<Game> get games => _games;
  bool get isLoading => _isLoading;
  
  Future<void> fetchGames() async {
    _isLoading = true;
    notifyListeners();
    
    final games = await apiService.getGames();
    _games = games;
    _isLoading = false;
    notifyListeners();
  }
}</pre>
                    
                    <h3>üíæ Local Storage (Hive)</h3>
                    <ul>
                        <li>Offline game metadata caching</li>
                        <li>User preferences</li>
                        <li>Play history</li>
                        <li>Favorite games</li>
                    </ul>
                `
            },
            performance: {
                title: 'Performance Optimizations',
                content: `
                    <h3>‚ö° Flutter Performance</h3>
                    <ul>
                        <li><strong>AOT Compilation:</strong> Direct native ARM code</li>
                        <li><strong>Tree Shaking:</strong> Remove unused code</li>
                        <li><strong>Lazy Loading:</strong> Load games on demand</li>
                        <li><strong>Image Caching:</strong> cached_network_image package</li>
                    </ul>
                    
                    <h3>üéÆ WebView Optimizations</h3>
                    <ul>
                        <li>Preload WebView instances</li>
                        <li>Memory management</li>
                        <li>JavaScript optimization</li>
                        <li>Asset bundling</li>
                    </ul>
                    
                    <h3>üìä Performance Metrics</h3>
                    <ul>
                        <li>App launch: <1 second</li>
                        <li>Game list load: <500ms</li>
                        <li>Game start: <2 seconds</li>
                        <li>Frame rate: 60 FPS consistent</li>
                    </ul>
                `
            }
        };

        function showDetails(type) {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modal-title');
            const body = document.getElementById('modal-body');
            
            title.textContent = modalContent[type].title;
            body.innerHTML = modalContent[type].content;
            modal.style.display = 'block';
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        // Close modal on outside click
        window.onclick = function(event) {
            const modal = document.getElementById('modal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        }

        // Animate stats on load
        function animateValue(element, start, end, duration) {
            const range = end - start;
            const startTime = performance.now();
            
            function update(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const current = start + (range * progress);
                
                if (element.textContent.includes('+')) {
                    element.textContent = Math.floor(current) + '+';
                } else if (element.textContent.includes('MB')) {
                    element.textContent = '~' + Math.floor(current) + 'MB';
                } else if (element.textContent.includes('%')) {
                    element.textContent = Math.floor(current) + '%';
                } else if (element.textContent.includes('FPS')) {
                    element.textContent = Math.floor(current) + ' FPS';
                } else {
                    element.textContent = Math.floor(current);
                }
                
                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }
            
            requestAnimationFrame(update);
        }

        // Animate on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.card, .flow-diagram, .tech-stack, .implementation-steps').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(el);
        });

        // Animate stats
        window.addEventListener('load', () => {
            const statNumbers = document.querySelectorAll('.stat-number');
            setTimeout(() => {
                animateValue(statNumbers[0], 0, 100, 1500);
                animateValue(statNumbers[1], 0, 18, 1500);
                animateValue(statNumbers[2], 0, 60, 1500);
                animateValue(statNumbers[3], 0, 60, 1500);
                animateValue(statNumbers[4], 0, 3, 1500);
                animateValue(statNumbers[5], 0, 50, 1500);
            }, 500);
        });
    </script>
</body>
</html>
